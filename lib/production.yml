version: '3'
services:
    wordpress:
        environment:
            SERVER_NAME: aliemu.com
            DB_PASS: ${DB_PASS}
        logging:
            options:
                max-size: 1m
        ports:
            - 443:443
            - 80:80
        restart: always
        volumes:
            - ./wp-content/themes:/app/wp-content/themes
            - ./letsencrypt:/etc/letsencrypt
    db:
        environment:
            MYSQL_ROOT_PASSWORD: ${DB_PASS}
        restart: always
    phpmyadmin:
        image: phpmyadmin/phpmyadmin
        environment:
            MYSQL_ROOT_PASSWORD: ${DB_PASS?DB_PASS not defined in .env}
        restart: always
